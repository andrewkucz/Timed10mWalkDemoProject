(window.webpackJsonpmyapp=window.webpackJsonpmyapp||[]).push([[0],{103:function(e,t,a){},128:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),c=a.n(l),o=(a(103),a(12)),i=a(8),s=a(3),m=a(43),u=a(32),p=a(80),d=a(179),f=a(187),g=a(180),E=a(181),h=a(176),b=a(49),v=a(177),O=a(171),w=a(85),y=a.n(w),j=a(86),x=a.n(j),N=a(182),P=a(183),k=a(184),S=a(87),D=a.n(S),B=a(88),C=a.n(B),T=a(89),_=a.n(T),I=a(27),F=a.n(I),z=a(35),W=a(172),H=a(173),L=a(129),R=a(174),A=a(81),G=a.n(A),q=a(165),J=a(168),M=a(170),U=a(178),V=a(169),X=a(82),Y=a.n(X),$=a(185),K=a(188),Q=a(23),Z=a.n(Q),ee=a(36),te=a.n(ee);function ae(e){var t=e.trials;return r.a.createElement(q.a,{size:"small"},r.a.createElement(J.a,null,t.map((function(t,a){return r.a.createElement(V.a,{key:a},r.a.createElement(M.a,null,a+1),r.a.createElement(M.a,null,t,"s"),r.a.createElement(M.a,null,r.a.createElement(O.a,{"aria-label":"delete",onClick:function(){return e.onDeleteClick(a)}},r.a.createElement(te.a,null))))}))))}function ne(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ne(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ne(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var le=Object(p.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:350},rightIcon:{marginLeft:e.spacing(1)},button:{marginTop:e.spacing(2)},divider:{marginTop:e.spacing(2),marginBottom:e.spacing(2)},currentPatient:{fontWeight:700}}}));function ce(){var e=le(),t=Object(s.a)(e.paper,e.fixedHeight),a=r.a.useState({start:0,stop:0}),n=Object(o.a)(a,2),l=n[0],c=n[1],i=r.a.useState(0),m=Object(o.a)(i,2),u=m[0],p=m[1],d=r.a.useState(!1),f=Object(o.a)(d,2),g=f[0],E=f[1],h=r.a.useState([]),O=Object(o.a)(h,2),w=O[0],y=O[1],j=r.a.useState([]),x=Object(o.a)(j,2),N=x[0],P=x[1],k=r.a.useState({name:"",records:[]}),S=Object(o.a)(k,2),D=S[0],B=S[1],C=r.a.useState(""),T=Object(o.a)(C,2),_=T[0],I=T[1],A=r.a.useState({open:!1,message:"",variant:""}),X=Object(o.a)(A,2),Q=X[0],ee=X[1];r.a.useEffect((function(){(function(){var e=Object(z.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.a.get("/api/patients");case 2:t=e.sent,P(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var te=r.a.useRef();function ne(){p(Date.now()-l.start)}return r.a.useEffect((function(){te.current=ne})),r.a.useEffect((function(){if(g){var e=setInterval((function(){te.current()}),10);return function(){console.log("Clearing interval"),clearInterval(e)}}}),[g]),r.a.createElement(W.a,{maxWidth:"lg",className:e.container},r.a.createElement(H.a,{container:!0,spacing:3},r.a.createElement(H.a,{item:!0,xs:6,md:3,lg:3},r.a.createElement(L.a,{className:t},r.a.createElement(b.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Timer"),r.a.createElement(b.a,{variant:"h2",component:"h3",gutterBottom:!0},(g?(u/1e3).toFixed(2):(l.stop-l.start)/1e3)+"s"),r.a.createElement(R.a,{variant:"contained",color:g?"secondary":"primary",className:e.button,onClick:g?function(){return console.log("stop"),p(0),void(g&&(E(!1),c(re({},l,{stop:Date.now()}))))}:function(){return console.log("start"),E(!0),p(0),void c(re({},l,{start:Date.now()}))}},g?"Stop":"Start"),!g&&0!==l.stop&&0!==l.start&&r.a.createElement(R.a,{variant:"contained",className:e.button,onClick:function(){return function(){var e=(l.stop-l.start)/1e3;y(w.concat([e])),c({start:0,stop:0})}()}},"Log Trial",r.a.createElement(G.a,{className:e.rightIcon})))),r.a.createElement(H.a,{item:!0,xs:6,md:3,lg:3},r.a.createElement(L.a,{className:t},r.a.createElement(b.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Trials"),r.a.createElement(ae,{trials:w,onDeleteClick:function(e){y(w.filter((function(t,a){return a!==e})))}}))),r.a.createElement(H.a,{item:!0,xs:6,md:3,lg:3},r.a.createElement(L.a,{className:t},r.a.createElement(b.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Notes"),r.a.createElement($.a,{id:"standard-multiline-flexible",placeholder:"Optional",multiline:!0,rows:"11",value:_,onChange:function(e){I(e.target.value)},className:e.textField}),w.length>0&&r.a.createElement(R.a,{variant:"contained",className:e.button,onClick:function(){return function(){var e={};D._id?(e.patient=D._id,e.trials=w.map((function(e){return{duration:e}})),e.note=_,Z.a.post("/api/records/add",e).then((function(e){I(""),y([]),ee({open:!0,variant:"success",message:"Successfully added record."}),B(re({},D,{records:[e.data].concat(D.records)}))})).catch((function(e){console.log(e),ee({open:!0,variant:"error",message:"Error creating record."})}))):ee({open:!0,variant:"error",message:"Please select a patient from below for this record."})}()}},"Save Test",r.a.createElement(Y.a,{className:e.rightIcon})))),r.a.createElement(H.a,{item:!0,xs:6,md:3,lg:3},r.a.createElement(L.a,{className:t},r.a.createElement(b.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Current Patient"),r.a.createElement(b.a,{className:e.currentPatient},D.name||"Please select a patient from below"),D.name&&r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{variant:"middle",className:e.divider}),r.a.createElement(b.a,null,"Previous Tests"),r.a.createElement(q.a,{size:"small"},r.a.createElement(U.a,null,r.a.createElement(V.a,null,r.a.createElement(M.a,null,"Date"),r.a.createElement(M.a,null,"Av. Time"))),r.a.createElement(J.a,null,D.records.map((function(e){var t=new Date(e.date),a="".concat(t.getMonth()+1,"/").concat(t.getDate(),"/").concat(t.getFullYear()),n=e.trials.reduce((function(e,t){return e+t.duration}),0)/e.trials.length;return r.a.createElement(V.a,{key:e._id},r.a.createElement(M.a,null,a),r.a.createElement(M.a,null,n.toFixed(1),"s"))}))))))),r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(L.a,{className:e.paper},r.a.createElement(b.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Patient Selection"),r.a.createElement(q.a,{size:"small"},r.a.createElement(U.a,null,r.a.createElement(V.a,null,r.a.createElement(M.a,null,"Name"))),r.a.createElement(J.a,null,N.map((function(e){return r.a.createElement(V.a,{key:e._id,selected:e._id===D._id},r.a.createElement(M.a,{onClick:function(){return t=e,void Z.a.get("/api/records/bypatient/"+t._id).then((function(e){B(re({},t,{records:e.data}))})).catch((function(e){console.log(e),B(re({},t,{records:[]}))}));var t}},e.name))}))))))),r.a.createElement(K.a,{anchorOrigin:{vertical:"bottom",horizontal:"center"},open:Q.open,onClose:function(){ee(re({},Q,{open:!1}))},ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},Q.message),autoHideDuration:"4000"}))}function oe(e){var t=e.patients;return r.a.createElement(q.a,{size:"small"},r.a.createElement(U.a,null,r.a.createElement(V.a,null,r.a.createElement(M.a,null,"Name"),r.a.createElement(M.a,null))),r.a.createElement(J.a,null,t.map((function(t){return r.a.createElement(V.a,{key:t._id},r.a.createElement(M.a,null,t.name),r.a.createElement(M.a,null,r.a.createElement(O.a,{"aria-label":"delete",onClick:function(){return e.onDeleteClick(t._id)}},r.a.createElement(te.a,null))))}))))}function ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var se=Object(p.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:200},button:{marginTop:e.spacing(1),marginLeft:e.spacing(1)}}}));function me(){var e=se(),t=r.a.useState({name:""}),a=Object(o.a)(t,2),n=a[0],l=a[1],c=r.a.useState([]),s=Object(o.a)(c,2),m=s[0],u=s[1];r.a.useEffect((function(){(function(){var e=Object(z.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.a.get("/api/patients");case 2:t=e.sent,u(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var p;return r.a.createElement(W.a,{maxWidth:"lg",className:e.container},r.a.createElement(H.a,{container:!0,spacing:3},r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(L.a,{className:e.paper},r.a.createElement(b.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Add New Patient"),r.a.createElement("div",null,r.a.createElement($.a,{required:!0,id:"standard-required",label:"Name",value:n.name,onChange:(p="name",function(e){l(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ie(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},n,Object(i.a)({},p,e.target.value)))}),className:e.textField}),r.a.createElement(R.a,{variant:"contained",color:"primary",size:"small",className:e.button,onClick:function(){console.log("SUBMITTING!"),Z.a.post("/api/patients/add",n).then((function(e){u(m.concat([e.data])),l({name:""})}))}},"Add")))),r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(L.a,{className:e.paper},r.a.createElement(b.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Patients"),r.a.createElement(oe,{patients:m,onDeleteClick:function(e){Z.a.delete("/api/patients/delete/"+e).then((function(t){u(m.filter((function(t){return t._id!==e}))),console.log(t)})).catch((function(e){return console.log(e)}))}})))))}var ue=a(83),pe=a.n(ue),de=a(186),fe=Object(p.a)((function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},modalpaper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}}));function ge(){var e=fe(),t=r.a.useState([]),a=Object(o.a)(t,2),n=a[0],l=a[1],c=r.a.useState({}),i=Object(o.a)(c,2),s=i[0],m=i[1],u=r.a.useState(!1),p=Object(o.a)(u,2),d=p[0],f=p[1],g=function(e){return new Date(e).toLocaleString("en-US")},E=function(e){return e.reduce((function(e,t){return e+t.duration}),0)/e.length};r.a.useEffect((function(){(function(){var e=Object(z.a)(F.a.mark((function e(){var t;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Z.a.get("/api/records");case 2:t=e.sent,console.log(t.data),l(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var h,v=function(e){null!==e.patient&&(m(e),f(!0))};return r.a.createElement(W.a,{maxWidth:"lg",className:e.container},r.a.createElement(H.a,{container:!0,spacing:3},r.a.createElement(H.a,{item:!0,xs:12},r.a.createElement(L.a,{className:e.paper},r.a.createElement(b.a,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},"Records"),r.a.createElement(q.a,{size:"small"},r.a.createElement(U.a,null,r.a.createElement(V.a,null,r.a.createElement(M.a,null,"Date"),r.a.createElement(M.a,null,"Patient"),r.a.createElement(M.a,null,"# Trials"),r.a.createElement(M.a,null,"Average Time"),r.a.createElement(M.a,null),r.a.createElement(M.a,null))),r.a.createElement(J.a,null,n.map((function(e){return r.a.createElement(V.a,{key:e._id},r.a.createElement(M.a,null,g(e.date)),r.a.createElement(M.a,null,null!==e.patient?e.patient.name:"[Patient Deleted]"),r.a.createElement(M.a,null,e.trials.length),r.a.createElement(M.a,null,E(e.trials).toFixed(2)+"s"),r.a.createElement(M.a,null,r.a.createElement(O.a,{"aria-label":"view",onClick:function(){return v(e)}},r.a.createElement(pe.a,null))),r.a.createElement(M.a,null,r.a.createElement(O.a,{"aria-label":"delete",onClick:function(){return t=e._id,void Z.a.delete("/api/records/delete/"+t).then((function(e){l(n.filter((function(e){return e._id!==t}))),console.log(e)})).catch((function(e){return console.log(e)}));var t}},r.a.createElement(te.a,null))))}))))))),r.a.createElement(de.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:d,onClose:function(){f(!1)}},void 0!==s._id&&r.a.createElement("div",{className:e.modalpaper},r.a.createElement("h2",null,s.patient.name),r.a.createElement("h3",null,g(s.date)),r.a.createElement("p",null,r.a.createElement("strong",null,"Trials")),r.a.createElement("ol",null,s.trials.map((function(e,t){return r.a.createElement("li",{key:t},"".concat(e.duration,"s"))}))),r.a.createElement("p",null,r.a.createElement("p",null,r.a.createElement("strong",null,"Average: "),E(s.trials).toFixed(2)+"s",r.a.createElement("br",null),r.a.createElement("strong",null,"Velocity: "),(h=s.trials,6/E(h)).toFixed(1)+" m/s"),r.a.createElement("p",null,r.a.createElement("strong",null,"Note: "),r.a.createElement("br",null),s.note)))))}var Ee=function(){return r.a.createElement("h1",null,"Not found?")};function he(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function be(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?he(a,!0).forEach((function(t){Object(i.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ve=Object(p.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:be({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(i.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240},link:{textDecoration:"none",color:"rgba(0,0,0,0.87)"}}}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement((function(){var e=ve(),t=r.a.useState(!0),a=Object(o.a)(t,2),n=a[0],l=a[1];return r.a.createElement(m.a,null,r.a.createElement("div",{className:e.root},r.a.createElement(d.a,null),r.a.createElement(g.a,{position:"absolute",className:Object(s.a)(e.appBar,n&&e.appBarShift)},r.a.createElement(E.a,{className:e.toolbar},r.a.createElement(O.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){l(!0)},className:Object(s.a)(e.menuButton,n&&e.menuButtonHidden)},r.a.createElement(y.a,null)),r.a.createElement(b.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title},"Timed 10m Walk Test"))),r.a.createElement(f.a,{variant:"permanent",classes:{paper:Object(s.a)(e.drawerPaper,!n&&e.drawerPaperClose)},open:n},r.a.createElement("div",{className:e.toolbarIcon},r.a.createElement(O.a,{onClick:function(){l(!1)}},r.a.createElement(x.a,null))),r.a.createElement(v.a,null),r.a.createElement(h.a,null,r.a.createElement(m.b,{to:"/",className:e.link},r.a.createElement(N.a,{button:!0},r.a.createElement(P.a,null,r.a.createElement(D.a,null)),r.a.createElement(k.a,{primary:"Dashboard"}))),r.a.createElement(m.b,{to:"/patients",className:e.link},r.a.createElement(N.a,{button:!0},r.a.createElement(P.a,null,r.a.createElement(C.a,null)),r.a.createElement(k.a,{primary:"Patients"}))),r.a.createElement(m.b,{to:"/records",className:e.link},r.a.createElement(N.a,{button:!0},r.a.createElement(P.a,null,r.a.createElement(_.a,null)),r.a.createElement(k.a,{primary:"Records"}))))),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:ce}),r.a.createElement(u.a,{exact:!0,path:"/records",component:ge}),r.a.createElement(u.a,{exact:!0,path:"/patients",component:me}),r.a.createElement(u.a,{component:Ee})))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},98:function(e,t,a){e.exports=a(128)}},[[98,1,2]]]);
//# sourceMappingURL=main.2b7eb9c9.chunk.js.map